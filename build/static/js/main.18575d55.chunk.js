(this["webpackJsonpdual-n-back-client"]=this["webpackJsonpdual-n-back-client"]||[]).push([[0],{231:function(e,t,n){},551:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(0),r=n.n(s),c=n(8),o=n.n(c),i=(n(231),n(13)),l=n(108),u=n(215),h=n(604),d=n(592),b=n(596),j=n(211),m=n.n(j),g=n(598),p=n(597),x=n(48),O=n(46),v=n(47),f=function(){function e(){Object(O.a)(this,e)}return Object(v.a)(e,null,[{key:"PushToken",value:function(e){localStorage.setItem("token",e)}},{key:"DeleteToken",value:function(){localStorage.removeItem("token")}},{key:"GetToken",value:function(){return null==localStorage.getItem("token")?null:localStorage.getItem("token").toString()}},{key:"PushUsername",value:function(e){localStorage.setItem("username",e)}},{key:"DeleteUsername",value:function(){localStorage.removeItem("username")}},{key:"GetUsername",value:function(){return null==localStorage.getItem("username")?null:localStorage.getItem("username").toString()}},{key:"IsLoggedIn",value:function(){return null!=this.GetToken()}}]),e}(),y=n(12);function k(){var e,t=r.a.useState(!1),n=Object(l.a)(t,2),s=n[0],c=n[1],o=r.a.useRef(null),j=Object(y.g)(),O=function(){c(!1)},v=!!f.GetToken();return Object(a.jsx)("div",{children:Object(a.jsx)(d.a,{position:"static",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(p.a,{edge:"start",color:"inherit",onClick:function(e){c(!0)},children:Object(a.jsx)(m.a,{fontSize:"large","aria-label":"menu",style:{marginRight:[16]},ref:o})}),Object(a.jsxs)(u.a,{open:s,anchorEl:o.current,onClose:O,children:[Object(a.jsx)(h.a,{component:x.b,to:"/",onClick:O,children:"Game"}),Object(a.jsx)(h.a,{component:x.b,to:"/rules",onClick:O,children:"Rules"}),0==v&&Object(a.jsx)(h.a,{component:x.b,to:"/login",onClick:O,children:"Login"}),1==v&&Object(a.jsx)(h.a,(e={onClick:O},Object(i.a)(e,"onClick",(function(){f.DeleteToken(),f.DeleteUsername(),j.push("/login"),c(!1)})),Object(i.a)(e,"children","Logout"),e))]}),Object(a.jsx)(g.a,{variant:"h6",children:"Dual-N-Back | The Game"})]})})})}var S,w=n(599),I=n(600),N=Object(w.a)({root:(S={position:"fixed"},Object(i.a)(S,"@media (max-width: 780px)",{position:"relative"}),Object(i.a)(S,"bottom",0),Object(i.a)(S,"textAlign","center"),Object(i.a)(S,"width","100%"),S)});function C(){var e=N(),t=r.a.useState(0),n=Object(l.a)(t,2),s=n[0],c=n[1];return Object(a.jsx)(I.a,{value:s,onChange:function(e,t){c(t)},showLabels:!0,className:e.root,children:Object(a.jsx)("h4",{children:"The footer"})})}var B=n(216),P=n(34),T=n.n(P),L=n(74),R=n(20),D=n(68),G=n(67),A=n(601),U=n.p+"static/media/emojipizza.d2f09a3b.png",E=n(602),z=n(6),F=n(212),J=n.n(F),M=function(e){Object(D.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={isRunning:!1,gameList:[],playerScore:0,highScore:0,creditedPlayer:"unknown",ws:null},a.stop=a.stop.bind(Object(R.a)(a)),a.play=a.play.bind(Object(R.a)(a)),a.positionPressed=a.positionPressed.bind(Object(R.a)(a)),a.soundPressed=a.soundPressed.bind(Object(R.a)(a)),a.bothPressed=a.bothPressed.bind(Object(R.a)(a)),a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=J.a.connect("https://gr14-dualnback-back.herokuapp.com/",{secure:!0,reconnection:!0,rejectUnauthorized:!1});this.setState({ws:t}),t.on("connect",(function(e){console.log("socket.io connection open"),console.log(e)})),t.on("connect_error",(function(e){console.log("error: ",e)})),t.on("Initialhighscore",(function(t){console.log("Initial Setting..."),console.log(t),null!=t&&e.setState({creditedPlayer:t.name,highScore:t.score})})),t.on("newhighscore",(function(t){console.log("In here!"),e.setState({creditedPlayer:t.name,highScore:t.score})}))}},{key:"generateRandomNumber",value:function(e,t){var n=e,a=t;return Math.floor(Math.random()*a)+n}},{key:"sleep",value:function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"CoolHideAllImages",value:function(){var e=Object(L.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<=9)){e.next=9;break}return e.next=4,this.sleep(200);case 4:document.getElementById(t).style.backgroundImage="none";case 6:t++,e.next=1;break;case 9:return e.next=11,this.sleep(500);case 11:for(t=1;t<=9;t++)document.getElementById(t).style.backgroundImage="url(".concat(U,")");return e.next=14,this.sleep(500);case 14:for(t=1;t<=9;t++)document.getElementById(t).style.backgroundImage="none";return e.next=17,this.sleep(200);case 17:for(t=1;t<=9;t++)document.getElementById(t).style.backgroundImage="url(".concat(U,")");return e.next=20,this.sleep(200);case 20:for(t=1;t<=9;t++)document.getElementById(t).style.backgroundImage="none";case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=Object(L.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),this.clearGame(),this.sendPlayerScore();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendPlayerScore",value:function(){var e=Object(L.a)(T.a.mark((function e(){var t,n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.GetUsername(),n=f.GetToken(),null!=t&&null!=n&&null!=this.state.ws){e.next=4;break}return e.abrupt("return");case 4:if(!(this.state.highScore>=this.state.playerScore&&0!=this.state.highScore)){e.next=6;break}return e.abrupt("return");case 6:a={name:t,score:this.state.playerScore},console.log("Sending new highscore..."),console.log(this.state.ws),this.state.ws.emit("newhighscore",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearGame",value:function(){this.setState({playerScore:0,gameList:[],isRunning:!1})}},{key:"play",value:function(){var e=Object(L.a)(T.a.mark((function e(t){var n,a,s,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.state.isRunning){e.next=3;break}return e.abrupt("return");case 3:return this.clearGame(),this.setState({isRunning:!0}),n=0,e.next=8,this.CoolHideAllImages();case 8:return n=this.generateRandomNumber(1,9),(a=document.getElementById(n)).style.backgroundImage="url(".concat(U,")"),s=this.playSound(),r={element:n,sound:s},this.setState({gameList:[].concat(Object(B.a)(this.state.gameList),[r])}),e.next=16,this.sleep(2e3);case 16:a.style.backgroundImage="none";case 17:if(!0===this.state.isRunning){e.next=8;break}case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSoundResult",value:function(){var e="";switch(this.generateRandomNumber(1,3)){case 1:e="cat";break;case 2:e="dog";break;case 3:e="tiger"}return e}},{key:"playSound",value:function(){var e=this.createSoundResult(),t=new SpeechSynthesisUtterance(e);return speechSynthesis.speak(t),e}},{key:"positionPressed",value:function(e){e.preventDefault();var t=this.state.gameList[this.state.gameList.length-1],n=this.state.gameList[this.state.gameList.length-3];this.state.isRunning&&(void 0!=t&&void 0!=n&&n.element==t.element?this.setState({playerScore:this.state.playerScore+10}):this.setState({playerScore:this.state.playerScore-10}))}},{key:"soundPressed",value:function(e){e.preventDefault();var t=this.state.gameList[this.state.gameList.length-1],n=this.state.gameList[this.state.gameList.length-3];this.state.isRunning&&(void 0!=t&&void 0!=n&&n.sound==t.sound?this.setState({playerScore:this.state.playerScore+10}):this.setState({playerScore:this.state.playerScore-10}))}},{key:"bothPressed",value:function(e){e.preventDefault();var t=this.state.gameList[this.state.gameList.length-1],n=this.state.gameList[this.state.gameList.length-3];this.state.isRunning&&(void 0!=t&&void 0!=n&&n.sound==t.sound&&n.element==t.element?this.setState({playerScore:this.state.playerScore+40}):this.setState({playerScore:this.state.playerScore-20}))}},{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)("h3",{className:e.buttonScore,children:"A Dual-N-Back Game"}),Object(a.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"1",children:"1"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"2",children:"2"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"3",children:"3"})})]}),Object(a.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"4",children:"4"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"5",children:"5"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"6",children:"6"})})]}),Object(a.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"7",children:"7"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"8",children:"8"})}),Object(a.jsx)("div",{className:e.customBox,children:Object(a.jsx)("div",{className:e.customInnerBox,id:"9",children:"9"})})]}),Object(a.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:[Object(a.jsxs)("h4",{className:e.buttonScore,children:["You Score ",Object(a.jsx)("b",{id:"playerscore",children:this.state.playerScore})," points"]}),Object(a.jsxs)("h4",{className:e.buttonScore,children:["Current highscore ",Object(a.jsx)("b",{id:"highscore",children:this.state.highScore})," points by ",this.state.creditedPlayer]})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{variant:"contained",color:"primary",onClick:this.play,children:"Play"}),"\xa0\xa0\xa0",Object(a.jsx)(E.a,{variant:"contained",color:"primary",onClick:this.stop,children:"Stop"})]}),"\xa0\xa0\xa0\xa0",Object(a.jsxs)("div",{className:e.gamebuttons,children:[Object(a.jsx)(E.a,{variant:"contained",color:"primary",className:e.wbuttons,onClick:this.positionPressed,children:"Position"}),"\xa0\xa0\xa0",Object(a.jsx)(E.a,{variant:"contained",color:"primary",className:e.wbuttons,onClick:this.soundPressed,children:"Sound"}),"\xa0\xa0\xa0",Object(a.jsx)(E.a,{variant:"contained",color:"primary",className:e.wbuttons,onClick:this.bothPressed,children:"Both"}),"\xa0\xa0\xa0"]})]})}}]),n}(s.Component),H=Object(z.a)((function(e){var t,n;return{root:(t={width:"50%"},Object(i.a)(t,"@media (max-width: 780px)",{width:"95%"}),Object(i.a)(t,"margin","auto"),Object(i.a)(t,"marginTop",0),t),gamebuttons:{margin:"auto",marginTop:0,textAlign:"center"},wbuttons:{width:"200px",height:"60px"},customBox:(n={flex:.33,height:"8vw"},Object(i.a)(n,"@media (max-width: 780px)",{height:"15vw"}),Object(i.a)(n,"padding",5),n),customInnerBox:{background:"#eee",height:"100%",width:"100%",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(U,")"),backgroundPosition:"center",backgroundSize:"contain"},smileyPizza:{},buttonScore:{width:"50%",margin:"auto",marginTop:0,textAlign:"center"}}}))(M),V=n(603),Y=(n(164),function(e){Object(D.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(R.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(R.a)(a)),a.goToRegister=a.goToRegister.bind(Object(R.a)(a)),a}return Object(v.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();fetch("https://gr14-dualnback-back.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){f.PushToken(e.token),f.PushUsername(e.username),t.props.history.push("/")})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"goToRegister",value:function(e){e.preventDefault(),this.props.history.push("/register")}},{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)("div",{className:[e.loginBox,e.center].join(" "),children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(a.jsx)(V.a,{label:"Username",name:"username",variant:"outlined",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(V.a,{type:"password",label:"Password",name:"password",variant:"outlined",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Login"})]}),Object(a.jsx)("p",{children:"Don't have an account?"}),Object(a.jsx)(E.a,{variant:"contained",color:"primary",onClick:this.goToRegister,children:"Register"})]})}}]),n}(s.Component)),_=Object(z.a)((function(e){return{center:{margin:"auto",textAlign:"center",width:"30%"},loginBox:{border:"3px solid blue",padding:"10px",marginTop:"10px",borderRadius:"25px",background:"#eb8c34"},space:{}}}))(Y),q=function(e){Object(D.a)(n,e);var t=Object(G.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this,e)).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(R.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(R.a)(a)),a.goToLogin=a.goToLogin.bind(Object(R.a)(a)),a}return Object(v.a)(n,[{key:"handleSubmit",value:function(e){var t=this;console.log("username"+this.state.username),console.log("pass"+this.state.password),e.preventDefault();fetch("https://gr14-dualnback-back.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:this.state.username,password:this.state.password})}).then((function(){t.props.history.push("/login")})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"goToLogin",value:function(e){e.preventDefault(),this.props.history.push("/login")}},{key:"render",value:function(){var e=this.props.classes;return Object(a.jsxs)("div",{className:[e.registerBox,e.center].join(" "),children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:[Object(a.jsx)(V.a,{label:"Username",name:"username",variant:"outlined",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(V.a,{type:"password",label:"Password",name:"password",variant:"outlined",onChange:this.handleChange}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",children:"Register"})]}),Object(a.jsx)("p",{children:"Already have an account?"}),Object(a.jsx)(E.a,{variant:"contained",color:"primary",onClick:this.goToLogin,children:"Login"})]})}}]),n}(s.Component),K=Object(z.a)((function(e){return{center:{margin:"auto",textAlign:"center",width:"30%"},registerBox:{border:"3px solid blue",padding:"10px",marginTop:"10px",borderRadius:"25px",background:"#eb8c34"},space:{}}}))(q);function Q(){return Object(a.jsx)("div",{children:"No Page Found!"})}var W=Object(w.a)({root:{textAlign:"center",margin:0,marginTop:0,height:1e3,width:"100%",flex:1},iframecss:{height:"100%",width:"100%"}});function X(){var e=W();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("iframe",{src:"https://en.wikipedia.org/wiki/N-back",className:e.iframecss})})}var Z=n(109),$=n(217),ee=function(e){var t=e.component,n=Object($.a)(e,["component"]),s=!!f.GetToken();return Object(a.jsx)(y.b,Object(Z.a)(Object(Z.a)({},n),{},{render:function(e){return s?Object(a.jsx)(y.a,{to:{pathname:"/",state:{from:e.location}}}):Object(a.jsx)(t,Object(Z.a)({},e))}}))};var te=function(){return Object(a.jsx)(x.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(k,{}),Object(a.jsxs)(y.d,{children:[Object(a.jsx)(ee,{path:"/login",exact:!0,component:_}),Object(a.jsx)(ee,{path:"/register",exact:!0,component:K}),Object(a.jsx)(y.b,{path:"/rules",exact:!0,component:X}),Object(a.jsx)(y.b,{path:"/",exact:!0,component:H}),Object(a.jsx)(y.b,{path:"*",component:Q})]}),Object(a.jsx)(C,{})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,605)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(te,{})}),document.getElementById("root")),ne()}},[[551,1,2]]]);
//# sourceMappingURL=main.18575d55.chunk.js.map